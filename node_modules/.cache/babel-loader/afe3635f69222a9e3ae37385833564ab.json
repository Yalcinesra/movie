{"ast":null,"code":"import m, { Fragment as Y, createContext as Z, useContext as B, useEffect as F, useMemo as $, useRef as C, useState as J } from \"react\";\nimport { Features as ce, forwardRefWithAs as X, render as ee, RenderStrategy as N } from '../../utils/render.js';\nimport { OpenClosedProvider as pe, State as E, useOpenClosed as te } from '../../internal/open-closed.js';\nimport { match as L } from '../../utils/match.js';\nimport { useIsMounted as he } from '../../hooks/use-is-mounted.js';\nimport { useIsoMorphicEffect as ve } from '../../hooks/use-iso-morphic-effect.js';\nimport { useLatestValue as I } from '../../hooks/use-latest-value.js';\nimport { useServerHandoffComplete as ne } from '../../hooks/use-server-handoff-complete.js';\nimport { useSyncRefs as re } from '../../hooks/use-sync-refs.js';\nimport { useTransition as ge } from '../../hooks/use-transition.js';\nimport { useEvent as b } from '../../hooks/use-event.js';\nimport { useDisposables as Ce } from '../../hooks/use-disposables.js';\nimport { classNames as ie } from '../../utils/class-names.js';\nimport { useFlags as Ee } from '../../hooks/use-flags.js';\n\nfunction S() {\n  let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return t.split(\" \").filter(n => n.trim().length > 1);\n}\n\nlet _ = Z(null);\n\n_.displayName = \"TransitionContext\";\n\nvar be = (r => (r.Visible = \"visible\", r.Hidden = \"hidden\", r))(be || {});\n\nfunction Se() {\n  let t = B(_);\n  if (t === null) throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");\n  return t;\n}\n\nfunction Ne() {\n  let t = B(M);\n  if (t === null) throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");\n  return t;\n}\n\nlet M = Z(null);\nM.displayName = \"NestingContext\";\n\nfunction U(t) {\n  return \"children\" in t ? U(t.children) : t.current.filter(_ref => {\n    let {\n      el: n\n    } = _ref;\n    return n.current !== null;\n  }).filter(_ref2 => {\n    let {\n      state: n\n    } = _ref2;\n    return n === \"visible\";\n  }).length > 0;\n}\n\nfunction oe(t, n) {\n  let r = I(t),\n      s = C([]),\n      y = he(),\n      D = Ce(),\n      c = b(function (i) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : N.Hidden;\n    let a = s.current.findIndex(_ref3 => {\n      let {\n        el: o\n      } = _ref3;\n      return o === i;\n    });\n    a !== -1 && (L(e, {\n      [N.Unmount]() {\n        s.current.splice(a, 1);\n      },\n\n      [N.Hidden]() {\n        s.current[a].state = \"hidden\";\n      }\n\n    }), D.microTask(() => {\n      var o;\n      !U(s) && y.current && ((o = r.current) == null || o.call(r));\n    }));\n  }),\n      x = b(i => {\n    let e = s.current.find(_ref4 => {\n      let {\n        el: a\n      } = _ref4;\n      return a === i;\n    });\n    return e ? e.state !== \"visible\" && (e.state = \"visible\") : s.current.push({\n      el: i,\n      state: \"visible\"\n    }), () => c(i, N.Unmount);\n  }),\n      p = C([]),\n      h = C(Promise.resolve()),\n      u = C({\n    enter: [],\n    leave: [],\n    idle: []\n  }),\n      v = b((i, e, a) => {\n    p.current.splice(0), n && (n.chains.current[e] = n.chains.current[e].filter(_ref5 => {\n      let [o] = _ref5;\n      return o !== i;\n    })), n == null || n.chains.current[e].push([i, new Promise(o => {\n      p.current.push(o);\n    })]), n == null || n.chains.current[e].push([i, new Promise(o => {\n      Promise.all(u.current[e].map(_ref6 => {\n        let [f, P] = _ref6;\n        return P;\n      })).then(() => o());\n    })]), e === \"enter\" ? h.current = h.current.then(() => n == null ? void 0 : n.wait.current).then(() => a(e)) : a(e);\n  }),\n      d = b((i, e, a) => {\n    Promise.all(u.current[e].splice(0).map(_ref7 => {\n      let [o, f] = _ref7;\n      return f;\n    })).then(() => {\n      var o;\n      (o = p.current.shift()) == null || o();\n    }).then(() => a(e));\n  });\n  return $(() => ({\n    children: s,\n    register: x,\n    unregister: c,\n    onStart: v,\n    onStop: d,\n    wait: h,\n    chains: u\n  }), [x, c, s, v, d, u, h]);\n}\n\nfunction xe() {}\n\nlet Pe = [\"beforeEnter\", \"afterEnter\", \"beforeLeave\", \"afterLeave\"];\n\nfunction se(t) {\n  var r;\n  let n = {};\n\n  for (let s of Pe) n[s] = (r = t[s]) != null ? r : xe;\n\n  return n;\n}\n\nfunction Re(t) {\n  let n = C(se(t));\n  return F(() => {\n    n.current = se(t);\n  }, [t]), n;\n}\n\nlet ye = \"div\",\n    ae = ce.RenderStrategy;\n\nfunction De(t, n) {\n  var K, Q;\n  let {\n    beforeEnter: r,\n    afterEnter: s,\n    beforeLeave: y,\n    afterLeave: D,\n    enter: c,\n    enterFrom: x,\n    enterTo: p,\n    entered: h,\n    leave: u,\n    leaveFrom: v,\n    leaveTo: d,\n    ...i\n  } = t,\n      e = C(null),\n      a = re(e, n),\n      o = (K = i.unmount) == null || K ? N.Unmount : N.Hidden,\n      {\n    show: f,\n    appear: P,\n    initial: T\n  } = Se(),\n      [l, j] = J(f ? \"visible\" : \"hidden\"),\n      q = Ne(),\n      {\n    register: O,\n    unregister: V\n  } = q;\n  F(() => O(e), [O, e]), F(() => {\n    if (o === N.Hidden && e.current) {\n      if (f && l !== \"visible\") {\n        j(\"visible\");\n        return;\n      }\n\n      return L(l, {\n        [\"hidden\"]: () => V(e),\n        [\"visible\"]: () => O(e)\n      });\n    }\n  }, [l, e, O, V, f, o]);\n  let k = I({\n    base: S(i.className),\n    enter: S(c),\n    enterFrom: S(x),\n    enterTo: S(p),\n    entered: S(h),\n    leave: S(u),\n    leaveFrom: S(v),\n    leaveTo: S(d)\n  }),\n      w = Re({\n    beforeEnter: r,\n    afterEnter: s,\n    beforeLeave: y,\n    afterLeave: D\n  }),\n      G = ne();\n  F(() => {\n    if (G && l === \"visible\" && e.current === null) throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\");\n  }, [e, l, G]);\n\n  let ue = T && !P,\n      z = P && f && T,\n      Te = (() => !G || ue ? \"idle\" : f ? \"enter\" : \"leave\")(),\n      H = Ee(0),\n      de = b(g => L(g, {\n    enter: () => {\n      H.addFlag(E.Opening), w.current.beforeEnter();\n    },\n    leave: () => {\n      H.addFlag(E.Closing), w.current.beforeLeave();\n    },\n    idle: () => {}\n  })),\n      fe = b(g => L(g, {\n    enter: () => {\n      H.removeFlag(E.Opening), w.current.afterEnter();\n    },\n    leave: () => {\n      H.removeFlag(E.Closing), w.current.afterLeave();\n    },\n    idle: () => {}\n  })),\n      A = oe(() => {\n    j(\"hidden\"), V(e);\n  }, q);\n\n  ge({\n    immediate: z,\n    container: e,\n    classes: k,\n    direction: Te,\n    onStart: I(g => {\n      A.onStart(e, g, de);\n    }),\n    onStop: I(g => {\n      A.onStop(e, g, fe), g === \"leave\" && !U(A) && (j(\"hidden\"), V(e));\n    })\n  });\n  let R = i,\n      me = {\n    ref: a\n  };\n  return z ? R = { ...R,\n    className: ie(i.className, ...k.current.enter, ...k.current.enterFrom)\n  } : (R.className = ie(i.className, (Q = e.current) == null ? void 0 : Q.className), R.className === \"\" && delete R.className), m.createElement(M.Provider, {\n    value: A\n  }, m.createElement(pe, {\n    value: L(l, {\n      [\"visible\"]: E.Open,\n      [\"hidden\"]: E.Closed\n    }) | H.flags\n  }, ee({\n    ourProps: me,\n    theirProps: R,\n    defaultTag: ye,\n    features: ae,\n    visible: l === \"visible\",\n    name: \"Transition.Child\"\n  })));\n}\n\nfunction He(t, n) {\n  let {\n    show: r,\n    appear: s = !1,\n    unmount: y = !0,\n    ...D\n  } = t,\n      c = C(null),\n      x = re(c, n);\n  ne();\n  let p = te();\n  if (r === void 0 && p !== null && (r = (p & E.Open) === E.Open), ![!0, !1].includes(r)) throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");\n  let [h, u] = J(r ? \"visible\" : \"hidden\"),\n      v = oe(() => {\n    u(\"hidden\");\n  }),\n      [d, i] = J(!0),\n      e = C([r]);\n  ve(() => {\n    d !== !1 && e.current[e.current.length - 1] !== r && (e.current.push(r), i(!1));\n  }, [e, r]);\n  let a = $(() => ({\n    show: r,\n    appear: s,\n    initial: d\n  }), [r, s, d]);\n  F(() => {\n    if (r) u(\"visible\");else if (!U(v)) u(\"hidden\");else {\n      let T = c.current;\n      if (!T) return;\n      let l = T.getBoundingClientRect();\n      l.x === 0 && l.y === 0 && l.width === 0 && l.height === 0 && u(\"hidden\");\n    }\n  }, [r, v]);\n  let o = {\n    unmount: y\n  },\n      f = b(() => {\n    var T;\n    d && i(!1), (T = t.beforeEnter) == null || T.call(t);\n  }),\n      P = b(() => {\n    var T;\n    d && i(!1), (T = t.beforeLeave) == null || T.call(t);\n  });\n  return m.createElement(M.Provider, {\n    value: v\n  }, m.createElement(_.Provider, {\n    value: a\n  }, ee({\n    ourProps: { ...o,\n      as: Y,\n      children: m.createElement(le, {\n        ref: x,\n        ...o,\n        ...D,\n        beforeEnter: f,\n        beforeLeave: P\n      })\n    },\n    theirProps: {},\n    defaultTag: Y,\n    features: ae,\n    visible: h === \"visible\",\n    name: \"Transition\"\n  })));\n}\n\nfunction Fe(t, n) {\n  let r = B(_) !== null,\n      s = te() !== null;\n  return m.createElement(m.Fragment, null, !r && s ? m.createElement(W, {\n    ref: n,\n    ...t\n  }) : m.createElement(le, {\n    ref: n,\n    ...t\n  }));\n}\n\nlet W = X(He),\n    le = X(De),\n    Le = X(Fe),\n    tt = Object.assign(W, {\n  Child: Le,\n  Root: W\n});\nexport { tt as Transition };","map":{"version":3,"sources":["C:/Users/yalci/OneDrive/Desktop/movie/node_modules/@headlessui/react/dist/components/transitions/transition.js"],"names":["m","Fragment","Y","createContext","Z","useContext","B","useEffect","F","useMemo","$","useRef","C","useState","J","Features","ce","forwardRefWithAs","X","render","ee","RenderStrategy","N","OpenClosedProvider","pe","State","E","useOpenClosed","te","match","L","useIsMounted","he","useIsoMorphicEffect","ve","useLatestValue","I","useServerHandoffComplete","ne","useSyncRefs","re","useTransition","ge","useEvent","b","useDisposables","Ce","classNames","ie","useFlags","Ee","S","t","split","filter","n","trim","length","_","displayName","be","r","Visible","Hidden","Se","Error","Ne","M","U","children","current","el","state","oe","s","y","D","c","i","e","a","findIndex","o","Unmount","splice","microTask","call","x","find","push","p","h","Promise","resolve","u","enter","leave","idle","v","chains","all","map","f","P","then","wait","d","shift","register","unregister","onStart","onStop","xe","Pe","se","Re","ye","ae","De","K","Q","beforeEnter","afterEnter","beforeLeave","afterLeave","enterFrom","enterTo","entered","leaveFrom","leaveTo","unmount","show","appear","initial","T","l","j","q","O","V","k","base","className","w","G","ue","z","Te","H","de","g","addFlag","Opening","Closing","fe","removeFlag","A","immediate","container","classes","direction","R","me","ref","createElement","Provider","value","Open","Closed","flags","ourProps","theirProps","defaultTag","features","visible","name","He","includes","getBoundingClientRect","width","height","as","le","Fe","W","Le","tt","Object","assign","Child","Root","Transition"],"mappings":"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","sourcesContent":["import m,{Fragment as Y,createContext as Z,useContext as B,useEffect as F,useMemo as $,useRef as C,useState as J}from\"react\";import{Features as ce,forwardRefWithAs as X,render as ee,RenderStrategy as N}from'../../utils/render.js';import{OpenClosedProvider as pe,State as E,useOpenClosed as te}from'../../internal/open-closed.js';import{match as L}from'../../utils/match.js';import{useIsMounted as he}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as ve}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as I}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as ne}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as re}from'../../hooks/use-sync-refs.js';import{useTransition as ge}from'../../hooks/use-transition.js';import{useEvent as b}from'../../hooks/use-event.js';import{useDisposables as Ce}from'../../hooks/use-disposables.js';import{classNames as ie}from'../../utils/class-names.js';import{useFlags as Ee}from'../../hooks/use-flags.js';function S(t=\"\"){return t.split(\" \").filter(n=>n.trim().length>1)}let _=Z(null);_.displayName=\"TransitionContext\";var be=(r=>(r.Visible=\"visible\",r.Hidden=\"hidden\",r))(be||{});function Se(){let t=B(_);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}function Ne(){let t=B(M);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}let M=Z(null);M.displayName=\"NestingContext\";function U(t){return\"children\"in t?U(t.children):t.current.filter(({el:n})=>n.current!==null).filter(({state:n})=>n===\"visible\").length>0}function oe(t,n){let r=I(t),s=C([]),y=he(),D=Ce(),c=b((i,e=N.Hidden)=>{let a=s.current.findIndex(({el:o})=>o===i);a!==-1&&(L(e,{[N.Unmount](){s.current.splice(a,1)},[N.Hidden](){s.current[a].state=\"hidden\"}}),D.microTask(()=>{var o;!U(s)&&y.current&&((o=r.current)==null||o.call(r))}))}),x=b(i=>{let e=s.current.find(({el:a})=>a===i);return e?e.state!==\"visible\"&&(e.state=\"visible\"):s.current.push({el:i,state:\"visible\"}),()=>c(i,N.Unmount)}),p=C([]),h=C(Promise.resolve()),u=C({enter:[],leave:[],idle:[]}),v=b((i,e,a)=>{p.current.splice(0),n&&(n.chains.current[e]=n.chains.current[e].filter(([o])=>o!==i)),n==null||n.chains.current[e].push([i,new Promise(o=>{p.current.push(o)})]),n==null||n.chains.current[e].push([i,new Promise(o=>{Promise.all(u.current[e].map(([f,P])=>P)).then(()=>o())})]),e===\"enter\"?h.current=h.current.then(()=>n==null?void 0:n.wait.current).then(()=>a(e)):a(e)}),d=b((i,e,a)=>{Promise.all(u.current[e].splice(0).map(([o,f])=>f)).then(()=>{var o;(o=p.current.shift())==null||o()}).then(()=>a(e))});return $(()=>({children:s,register:x,unregister:c,onStart:v,onStop:d,wait:h,chains:u}),[x,c,s,v,d,u,h])}function xe(){}let Pe=[\"beforeEnter\",\"afterEnter\",\"beforeLeave\",\"afterLeave\"];function se(t){var r;let n={};for(let s of Pe)n[s]=(r=t[s])!=null?r:xe;return n}function Re(t){let n=C(se(t));return F(()=>{n.current=se(t)},[t]),n}let ye=\"div\",ae=ce.RenderStrategy;function De(t,n){var K,Q;let{beforeEnter:r,afterEnter:s,beforeLeave:y,afterLeave:D,enter:c,enterFrom:x,enterTo:p,entered:h,leave:u,leaveFrom:v,leaveTo:d,...i}=t,e=C(null),a=re(e,n),o=(K=i.unmount)==null||K?N.Unmount:N.Hidden,{show:f,appear:P,initial:T}=Se(),[l,j]=J(f?\"visible\":\"hidden\"),q=Ne(),{register:O,unregister:V}=q;F(()=>O(e),[O,e]),F(()=>{if(o===N.Hidden&&e.current){if(f&&l!==\"visible\"){j(\"visible\");return}return L(l,{[\"hidden\"]:()=>V(e),[\"visible\"]:()=>O(e)})}},[l,e,O,V,f,o]);let k=I({base:S(i.className),enter:S(c),enterFrom:S(x),enterTo:S(p),entered:S(h),leave:S(u),leaveFrom:S(v),leaveTo:S(d)}),w=Re({beforeEnter:r,afterEnter:s,beforeLeave:y,afterLeave:D}),G=ne();F(()=>{if(G&&l===\"visible\"&&e.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[e,l,G]);let ue=T&&!P,z=P&&f&&T,Te=(()=>!G||ue?\"idle\":f?\"enter\":\"leave\")(),H=Ee(0),de=b(g=>L(g,{enter:()=>{H.addFlag(E.Opening),w.current.beforeEnter()},leave:()=>{H.addFlag(E.Closing),w.current.beforeLeave()},idle:()=>{}})),fe=b(g=>L(g,{enter:()=>{H.removeFlag(E.Opening),w.current.afterEnter()},leave:()=>{H.removeFlag(E.Closing),w.current.afterLeave()},idle:()=>{}})),A=oe(()=>{j(\"hidden\"),V(e)},q);ge({immediate:z,container:e,classes:k,direction:Te,onStart:I(g=>{A.onStart(e,g,de)}),onStop:I(g=>{A.onStop(e,g,fe),g===\"leave\"&&!U(A)&&(j(\"hidden\"),V(e))})});let R=i,me={ref:a};return z?R={...R,className:ie(i.className,...k.current.enter,...k.current.enterFrom)}:(R.className=ie(i.className,(Q=e.current)==null?void 0:Q.className),R.className===\"\"&&delete R.className),m.createElement(M.Provider,{value:A},m.createElement(pe,{value:L(l,{[\"visible\"]:E.Open,[\"hidden\"]:E.Closed})|H.flags},ee({ourProps:me,theirProps:R,defaultTag:ye,features:ae,visible:l===\"visible\",name:\"Transition.Child\"})))}function He(t,n){let{show:r,appear:s=!1,unmount:y=!0,...D}=t,c=C(null),x=re(c,n);ne();let p=te();if(r===void 0&&p!==null&&(r=(p&E.Open)===E.Open),![!0,!1].includes(r))throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[h,u]=J(r?\"visible\":\"hidden\"),v=oe(()=>{u(\"hidden\")}),[d,i]=J(!0),e=C([r]);ve(()=>{d!==!1&&e.current[e.current.length-1]!==r&&(e.current.push(r),i(!1))},[e,r]);let a=$(()=>({show:r,appear:s,initial:d}),[r,s,d]);F(()=>{if(r)u(\"visible\");else if(!U(v))u(\"hidden\");else{let T=c.current;if(!T)return;let l=T.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&u(\"hidden\")}},[r,v]);let o={unmount:y},f=b(()=>{var T;d&&i(!1),(T=t.beforeEnter)==null||T.call(t)}),P=b(()=>{var T;d&&i(!1),(T=t.beforeLeave)==null||T.call(t)});return m.createElement(M.Provider,{value:v},m.createElement(_.Provider,{value:a},ee({ourProps:{...o,as:Y,children:m.createElement(le,{ref:x,...o,...D,beforeEnter:f,beforeLeave:P})},theirProps:{},defaultTag:Y,features:ae,visible:h===\"visible\",name:\"Transition\"})))}function Fe(t,n){let r=B(_)!==null,s=te()!==null;return m.createElement(m.Fragment,null,!r&&s?m.createElement(W,{ref:n,...t}):m.createElement(le,{ref:n,...t}))}let W=X(He),le=X(De),Le=X(Fe),tt=Object.assign(W,{Child:Le,Root:W});export{tt as Transition};\n"]},"metadata":{},"sourceType":"module"}