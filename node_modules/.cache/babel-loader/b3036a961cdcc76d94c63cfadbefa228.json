{"ast":null,"code":"import ee, { Fragment as xe, createContext as pe, createRef as Ce, useCallback as Oe, useContext as se, useEffect as be, useMemo as M, useReducer as ge, useRef as S } from \"react\";\nimport { useComputed as ne } from '../../hooks/use-computed.js';\nimport { useDisposables as re } from '../../hooks/use-disposables.js';\nimport { useEvent as x } from '../../hooks/use-event.js';\nimport { useId as Q } from '../../hooks/use-id.js';\nimport { useIsoMorphicEffect as k } from '../../hooks/use-iso-morphic-effect.js';\nimport { useLatestValue as ye } from '../../hooks/use-latest-value.js';\nimport { useOutsideClick as Re } from '../../hooks/use-outside-click.js';\nimport { useResolveButtonType as ve } from '../../hooks/use-resolve-button-type.js';\nimport { useSyncRefs as Y } from '../../hooks/use-sync-refs.js';\nimport { useTreeWalker as Pe } from '../../hooks/use-tree-walker.js';\nimport { calculateActiveIndex as Ae, Focus as R } from '../../utils/calculate-active-index.js';\nimport { disposables as de } from '../../utils/disposables.js';\nimport { forwardRefWithAs as G, render as X, compact as Ee, Features as fe } from '../../utils/render.js';\nimport { isDisabledReactIssue7711 as Se } from '../../utils/bugs.js';\nimport { match as j } from '../../utils/match.js';\nimport { objectToFormEntries as Ie } from '../../utils/form.js';\nimport { sortByDomNode as Le } from '../../utils/focus-management.js';\nimport { Hidden as Ve, Features as De } from '../../internal/hidden.js';\nimport { useOpenClosed as Fe, State as oe, OpenClosedProvider as Me } from '../../internal/open-closed.js';\nimport { Keys as I } from '../keyboard.js';\nimport { useControllable as _e } from '../../hooks/use-controllable.js';\nimport { useWatch as ce } from '../../hooks/use-watch.js';\nimport { useTrackedPointer as he } from '../../hooks/use-tracked-pointer.js';\nimport { isMobile as Be } from '../../utils/platform.js';\nimport { useOwnerDocument as ke } from '../../hooks/use-owner.js';\n\nvar we = (e => (e[e.Open = 0] = \"Open\", e[e.Closed = 1] = \"Closed\", e))(we || {}),\n    Ue = (e => (e[e.Single = 0] = \"Single\", e[e.Multi = 1] = \"Multi\", e))(Ue || {}),\n    Ne = (e => (e[e.Pointer = 0] = \"Pointer\", e[e.Other = 1] = \"Other\", e))(Ne || {}),\n    He = (n => (n[n.OpenCombobox = 0] = \"OpenCombobox\", n[n.CloseCombobox = 1] = \"CloseCombobox\", n[n.GoToOption = 2] = \"GoToOption\", n[n.RegisterOption = 3] = \"RegisterOption\", n[n.UnregisterOption = 4] = \"UnregisterOption\", n[n.RegisterLabel = 5] = \"RegisterLabel\", n))(He || {});\n\nfunction ae(t) {\n  let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e => e;\n  let e = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n      r = Le(a(t.options.slice()), b => b.dataRef.current.domRef.current),\n      l = e ? r.indexOf(e) : null;\n  return l === -1 && (l = null), {\n    options: r,\n    activeOptionIndex: l\n  };\n}\n\nlet Ge = {\n  [1](t) {\n    var a;\n    return (a = t.dataRef.current) != null && a.disabled || t.comboboxState === 1 ? t : { ...t,\n      activeOptionIndex: null,\n      comboboxState: 1\n    };\n  },\n\n  [0](t) {\n    var e;\n    if ((e = t.dataRef.current) != null && e.disabled || t.comboboxState === 0) return t;\n    let a = t.activeOptionIndex;\n\n    if (t.dataRef.current) {\n      let {\n        isSelected: r\n      } = t.dataRef.current,\n          l = t.options.findIndex(b => r(b.dataRef.current.value));\n      l !== -1 && (a = l);\n    }\n\n    return { ...t,\n      comboboxState: 0,\n      activeOptionIndex: a\n    };\n  },\n\n  [2](t, a) {\n    var l, b, n, d;\n    if ((l = t.dataRef.current) != null && l.disabled || (b = t.dataRef.current) != null && b.optionsRef.current && !((n = t.dataRef.current) != null && n.optionsPropsRef.current.static) && t.comboboxState === 1) return t;\n    let e = ae(t);\n\n    if (e.activeOptionIndex === null) {\n      let o = e.options.findIndex(i => !i.dataRef.current.disabled);\n      o !== -1 && (e.activeOptionIndex = o);\n    }\n\n    let r = Ae(a, {\n      resolveItems: () => e.options,\n      resolveActiveIndex: () => e.activeOptionIndex,\n      resolveId: o => o.id,\n      resolveDisabled: o => o.dataRef.current.disabled\n    });\n    return { ...t,\n      ...e,\n      activeOptionIndex: r,\n      activationTrigger: (d = a.trigger) != null ? d : 1\n    };\n  },\n\n  [3]: (t, a) => {\n    var b, n;\n    let e = {\n      id: a.id,\n      dataRef: a.dataRef\n    },\n        r = ae(t, d => [...d, e]);\n    t.activeOptionIndex === null && (b = t.dataRef.current) != null && b.isSelected(a.dataRef.current.value) && (r.activeOptionIndex = r.options.indexOf(e));\n    let l = { ...t,\n      ...r,\n      activationTrigger: 1\n    };\n    return (n = t.dataRef.current) != null && n.__demoMode && t.dataRef.current.value === void 0 && (l.activeOptionIndex = 0), l;\n  },\n  [4]: (t, a) => {\n    let e = ae(t, r => {\n      let l = r.findIndex(b => b.id === a.id);\n      return l !== -1 && r.splice(l, 1), r;\n    });\n    return { ...t,\n      ...e,\n      activationTrigger: 1\n    };\n  },\n  [5]: (t, a) => ({ ...t,\n    labelId: a.id\n  })\n},\n    le = pe(null);\nle.displayName = \"ComboboxActionsContext\";\n\nfunction Z(t) {\n  let a = se(le);\n\n  if (a === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, Z), e;\n  }\n\n  return a;\n}\n\nlet ie = pe(null);\nie.displayName = \"ComboboxDataContext\";\n\nfunction J(t) {\n  let a = se(ie);\n\n  if (a === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, J), e;\n  }\n\n  return a;\n}\n\nfunction Xe(t, a) {\n  return j(a.type, Ge, t, a);\n}\n\nlet je = xe;\n\nfunction Je(t, a) {\n  let {\n    value: e,\n    defaultValue: r,\n    onChange: l,\n    form: b,\n    name: n,\n    by: d = (u, T) => u === T,\n    disabled: o = !1,\n    __demoMode: i = !1,\n    nullable: A = !1,\n    multiple: O = !1,\n    ...C\n  } = t,\n      [f = O ? [] : void 0, g] = _e(e, l, r),\n      [m, c] = ge(Xe, {\n    dataRef: Ce(),\n    comboboxState: i ? 0 : 1,\n    options: [],\n    activeOptionIndex: null,\n    activationTrigger: 1,\n    labelId: null\n  }),\n      D = S(!1),\n      _ = S({\n    static: !1,\n    hold: !1\n  }),\n      w = S(null),\n      U = S(null),\n      N = S(null),\n      K = S(null),\n      h = x(typeof d == \"string\" ? (u, T) => {\n    let v = d;\n    return (u == null ? void 0 : u[v]) === (T == null ? void 0 : T[v]);\n  } : d),\n      H = Oe(u => j(p.mode, {\n    [1]: () => f.some(T => h(T, u)),\n    [0]: () => h(f, u)\n  }), [f]),\n      p = M(() => ({ ...m,\n    optionsPropsRef: _,\n    labelRef: w,\n    inputRef: U,\n    buttonRef: N,\n    optionsRef: K,\n    value: f,\n    defaultValue: r,\n    disabled: o,\n    mode: O ? 1 : 0,\n\n    get activeOptionIndex() {\n      if (D.current && m.activeOptionIndex === null && m.options.length > 0) {\n        let u = m.options.findIndex(T => !T.dataRef.current.disabled);\n        if (u !== -1) return u;\n      }\n\n      return m.activeOptionIndex;\n    },\n\n    compare: h,\n    isSelected: H,\n    nullable: A,\n    __demoMode: i\n  }), [f, r, o, O, A, i, m]),\n      y = S(p.activeOptionIndex !== null ? p.options[p.activeOptionIndex] : null);\n\n  be(() => {\n    let u = p.activeOptionIndex !== null ? p.options[p.activeOptionIndex] : null;\n    y.current !== u && (y.current = u);\n  }), k(() => {\n    m.dataRef.current = p;\n  }, [p]), Re([p.buttonRef, p.inputRef, p.optionsRef], () => te.closeCombobox(), p.comboboxState === 0);\n  let E = M(() => ({\n    open: p.comboboxState === 0,\n    disabled: o,\n    activeIndex: p.activeOptionIndex,\n    activeOption: p.activeOptionIndex === null ? null : p.options[p.activeOptionIndex].dataRef.current.value,\n    value: f\n  }), [p, o, f]),\n      B = x(u => {\n    let T = p.options.find(v => v.id === u);\n    T && V(T.dataRef.current.value);\n  }),\n      s = x(() => {\n    if (p.activeOptionIndex !== null) {\n      let {\n        dataRef: u,\n        id: T\n      } = p.options[p.activeOptionIndex];\n      V(u.current.value), te.goToOption(R.Specific, T);\n    }\n  }),\n      W = x(() => {\n    c({\n      type: 0\n    }), D.current = !0;\n  }),\n      L = x(() => {\n    c({\n      type: 1\n    }), D.current = !1;\n  }),\n      $ = x((u, T, v) => (D.current = !1, u === R.Specific ? c({\n    type: 2,\n    focus: R.Specific,\n    id: T,\n    trigger: v\n  }) : c({\n    type: 2,\n    focus: u,\n    trigger: v\n  }))),\n      P = x((u, T) => (c({\n    type: 3,\n    id: u,\n    dataRef: T\n  }), () => {\n    var v;\n    ((v = y.current) == null ? void 0 : v.id) === u && (D.current = !0), c({\n      type: 4,\n      id: u\n    });\n  })),\n      F = x(u => (c({\n    type: 5,\n    id: u\n  }), () => c({\n    type: 5,\n    id: null\n  }))),\n      V = x(u => j(p.mode, {\n    [0]() {\n      return g == null ? void 0 : g(u);\n    },\n\n    [1]() {\n      let T = p.value.slice(),\n          v = T.findIndex(q => h(q, u));\n      return v === -1 ? T.push(u) : T.splice(v, 1), g == null ? void 0 : g(T);\n    }\n\n  })),\n      te = M(() => ({\n    onChange: V,\n    registerOption: P,\n    registerLabel: F,\n    goToOption: $,\n    closeCombobox: L,\n    openCombobox: W,\n    selectActiveOption: s,\n    selectOption: B\n  }), []),\n      Te = a === null ? {} : {\n    ref: a\n  },\n      z = S(null),\n      me = re();\n  return be(() => {\n    z.current && r !== void 0 && me.addEventListener(z.current, \"reset\", () => {\n      g == null || g(r);\n    });\n  }, [z, g]), ee.createElement(le.Provider, {\n    value: te\n  }, ee.createElement(ie.Provider, {\n    value: p\n  }, ee.createElement(Me, {\n    value: j(p.comboboxState, {\n      [0]: oe.Open,\n      [1]: oe.Closed\n    })\n  }, n != null && f != null && Ie({\n    [n]: f\n  }).map((_ref, v) => {\n    let [u, T] = _ref;\n    return ee.createElement(Ve, {\n      features: De.Hidden,\n      ref: v === 0 ? q => {\n        var ue;\n        z.current = (ue = q == null ? void 0 : q.closest(\"form\")) != null ? ue : null;\n      } : void 0,\n      ...Ee({\n        key: u,\n        as: \"input\",\n        type: \"hidden\",\n        hidden: !0,\n        readOnly: !0,\n        form: b,\n        name: u,\n        value: T\n      })\n    });\n  }), X({\n    ourProps: Te,\n    theirProps: C,\n    slot: E,\n    defaultTag: je,\n    name: \"Combobox\"\n  }))));\n}\n\nlet Ke = \"input\";\n\nfunction We(t, a) {\n  var p, y, E, B;\n\n  let e = Q(),\n      {\n    id: r = `headlessui-combobox-input-${e}`,\n    onChange: l,\n    displayValue: b,\n    type: n = \"text\",\n    ...d\n  } = t,\n      o = J(\"Combobox.Input\"),\n      i = Z(\"Combobox.Input\"),\n      A = Y(o.inputRef, a),\n      O = ke(o.inputRef),\n      C = S(!1),\n      f = re(),\n      g = x(() => {\n    i.onChange(null), o.optionsRef.current && (o.optionsRef.current.scrollTop = 0), i.goToOption(R.Nothing);\n  }),\n      m = function () {\n    var s;\n    return typeof b == \"function\" && o.value !== void 0 ? (s = b(o.value)) != null ? s : \"\" : typeof o.value == \"string\" ? o.value : \"\";\n  }();\n\n  ce((_ref2, _ref3) => {\n    let [s, W] = _ref2;\n    let [L, $] = _ref3;\n    if (C.current) return;\n    let P = o.inputRef.current;\n    P && (($ === 0 && W === 1 || s !== L) && (P.value = s), requestAnimationFrame(() => {\n      if (C.current || !P || (O == null ? void 0 : O.activeElement) !== P) return;\n      let {\n        selectionStart: F,\n        selectionEnd: V\n      } = P;\n      Math.abs((V != null ? V : 0) - (F != null ? F : 0)) === 0 && F === 0 && P.setSelectionRange(P.value.length, P.value.length);\n    }));\n  }, [m, o.comboboxState, O]), ce((_ref4, _ref5) => {\n    let [s] = _ref4;\n    let [W] = _ref5;\n\n    if (s === 0 && W === 1) {\n      if (C.current) return;\n      let L = o.inputRef.current;\n      if (!L) return;\n      let $ = L.value,\n          {\n        selectionStart: P,\n        selectionEnd: F,\n        selectionDirection: V\n      } = L;\n      L.value = \"\", L.value = $, V !== null ? L.setSelectionRange(P, F, V) : L.setSelectionRange(P, F);\n    }\n  }, [o.comboboxState]);\n\n  let c = S(!1),\n      D = x(() => {\n    c.current = !0;\n  }),\n      _ = x(() => {\n    f.nextFrame(() => {\n      c.current = !1;\n    });\n  }),\n      w = x(s => {\n    switch (C.current = !0, s.key) {\n      case I.Enter:\n        if (C.current = !1, o.comboboxState !== 0 || c.current) return;\n\n        if (s.preventDefault(), s.stopPropagation(), o.activeOptionIndex === null) {\n          i.closeCombobox();\n          return;\n        }\n\n        i.selectActiveOption(), o.mode === 0 && i.closeCombobox();\n        break;\n\n      case I.ArrowDown:\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), j(o.comboboxState, {\n          [0]: () => {\n            i.goToOption(R.Next);\n          },\n          [1]: () => {\n            i.openCombobox();\n          }\n        });\n\n      case I.ArrowUp:\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), j(o.comboboxState, {\n          [0]: () => {\n            i.goToOption(R.Previous);\n          },\n          [1]: () => {\n            i.openCombobox(), f.nextFrame(() => {\n              o.value || i.goToOption(R.Last);\n            });\n          }\n        });\n\n      case I.Home:\n        if (s.shiftKey) break;\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), i.goToOption(R.First);\n\n      case I.PageUp:\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), i.goToOption(R.First);\n\n      case I.End:\n        if (s.shiftKey) break;\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), i.goToOption(R.Last);\n\n      case I.PageDown:\n        return C.current = !1, s.preventDefault(), s.stopPropagation(), i.goToOption(R.Last);\n\n      case I.Escape:\n        return C.current = !1, o.comboboxState !== 0 ? void 0 : (s.preventDefault(), o.optionsRef.current && !o.optionsPropsRef.current.static && s.stopPropagation(), o.nullable && o.mode === 0 && o.value === null && g(), i.closeCombobox());\n\n      case I.Tab:\n        if (C.current = !1, o.comboboxState !== 0) return;\n        o.mode === 0 && i.selectActiveOption(), i.closeCombobox();\n        break;\n    }\n  }),\n      U = x(s => {\n    l == null || l(s), o.nullable && o.mode === 0 && s.target.value === \"\" && g(), i.openCombobox();\n  }),\n      N = x(() => {\n    C.current = !1;\n  }),\n      K = ne(() => {\n    if (o.labelId) return [o.labelId].join(\" \");\n  }, [o.labelId]),\n      h = M(() => ({\n    open: o.comboboxState === 0,\n    disabled: o.disabled\n  }), [o]),\n      H = {\n    ref: A,\n    id: r,\n    role: \"combobox\",\n    type: n,\n    \"aria-controls\": (p = o.optionsRef.current) == null ? void 0 : p.id,\n    \"aria-expanded\": o.comboboxState === 0,\n    \"aria-activedescendant\": o.activeOptionIndex === null || (y = o.options[o.activeOptionIndex]) == null ? void 0 : y.id,\n    \"aria-labelledby\": K,\n    \"aria-autocomplete\": \"list\",\n    defaultValue: (B = (E = t.defaultValue) != null ? E : o.defaultValue !== void 0 ? b == null ? void 0 : b(o.defaultValue) : null) != null ? B : o.defaultValue,\n    disabled: o.disabled,\n    onCompositionStart: D,\n    onCompositionEnd: _,\n    onKeyDown: w,\n    onChange: U,\n    onBlur: N\n  };\n\n  return X({\n    ourProps: H,\n    theirProps: d,\n    slot: h,\n    defaultTag: Ke,\n    name: \"Combobox.Input\"\n  });\n}\n\nlet $e = \"button\";\n\nfunction qe(t, a) {\n  var g;\n  let e = J(\"Combobox.Button\"),\n      r = Z(\"Combobox.Button\"),\n      l = Y(e.buttonRef, a),\n      b = Q(),\n      {\n    id: n = `headlessui-combobox-button-${b}`,\n    ...d\n  } = t,\n      o = re(),\n      i = x(m => {\n    switch (m.key) {\n      case I.ArrowDown:\n        return m.preventDefault(), m.stopPropagation(), e.comboboxState === 1 && r.openCombobox(), o.nextFrame(() => {\n          var c;\n          return (c = e.inputRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        });\n\n      case I.ArrowUp:\n        return m.preventDefault(), m.stopPropagation(), e.comboboxState === 1 && (r.openCombobox(), o.nextFrame(() => {\n          e.value || r.goToOption(R.Last);\n        })), o.nextFrame(() => {\n          var c;\n          return (c = e.inputRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        });\n\n      case I.Escape:\n        return e.comboboxState !== 0 ? void 0 : (m.preventDefault(), e.optionsRef.current && !e.optionsPropsRef.current.static && m.stopPropagation(), r.closeCombobox(), o.nextFrame(() => {\n          var c;\n          return (c = e.inputRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        }));\n\n      default:\n        return;\n    }\n  }),\n      A = x(m => {\n    if (Se(m.currentTarget)) return m.preventDefault();\n    e.comboboxState === 0 ? r.closeCombobox() : (m.preventDefault(), r.openCombobox()), o.nextFrame(() => {\n      var c;\n      return (c = e.inputRef.current) == null ? void 0 : c.focus({\n        preventScroll: !0\n      });\n    });\n  }),\n      O = ne(() => {\n    if (e.labelId) return [e.labelId, n].join(\" \");\n  }, [e.labelId, n]),\n      C = M(() => ({\n    open: e.comboboxState === 0,\n    disabled: e.disabled,\n    value: e.value\n  }), [e]),\n      f = {\n    ref: l,\n    id: n,\n    type: ve(t, e.buttonRef),\n    tabIndex: -1,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-controls\": (g = e.optionsRef.current) == null ? void 0 : g.id,\n    \"aria-expanded\": e.comboboxState === 0,\n    \"aria-labelledby\": O,\n    disabled: e.disabled,\n    onClick: A,\n    onKeyDown: i\n  };\n  return X({\n    ourProps: f,\n    theirProps: d,\n    slot: C,\n    defaultTag: $e,\n    name: \"Combobox.Button\"\n  });\n}\n\nlet Qe = \"label\";\n\nfunction Ye(t, a) {\n  let e = Q(),\n      {\n    id: r = `headlessui-combobox-label-${e}`,\n    ...l\n  } = t,\n      b = J(\"Combobox.Label\"),\n      n = Z(\"Combobox.Label\"),\n      d = Y(b.labelRef, a);\n  k(() => n.registerLabel(r), [r]);\n  let o = x(() => {\n    var O;\n    return (O = b.inputRef.current) == null ? void 0 : O.focus({\n      preventScroll: !0\n    });\n  }),\n      i = M(() => ({\n    open: b.comboboxState === 0,\n    disabled: b.disabled\n  }), [b]);\n  return X({\n    ourProps: {\n      ref: d,\n      id: r,\n      onClick: o\n    },\n    theirProps: l,\n    slot: i,\n    defaultTag: Qe,\n    name: \"Combobox.Label\"\n  });\n}\n\nlet Ze = \"ul\",\n    ze = fe.RenderStrategy | fe.Static;\n\nfunction eo(t, a) {\n  let e = Q(),\n      {\n    id: r = `headlessui-combobox-options-${e}`,\n    hold: l = !1,\n    ...b\n  } = t,\n      n = J(\"Combobox.Options\"),\n      d = Y(n.optionsRef, a),\n      o = Fe(),\n      i = (() => o !== null ? (o & oe.Open) === oe.Open : n.comboboxState === 0)();\n\n  k(() => {\n    var f;\n    n.optionsPropsRef.current.static = (f = t.static) != null ? f : !1;\n  }, [n.optionsPropsRef, t.static]), k(() => {\n    n.optionsPropsRef.current.hold = l;\n  }, [n.optionsPropsRef, l]), Pe({\n    container: n.optionsRef.current,\n    enabled: n.comboboxState === 0,\n\n    accept(f) {\n      return f.getAttribute(\"role\") === \"option\" ? NodeFilter.FILTER_REJECT : f.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n\n    walk(f) {\n      f.setAttribute(\"role\", \"none\");\n    }\n\n  });\n  let A = ne(() => {\n    var f, g;\n    return (g = n.labelId) != null ? g : (f = n.buttonRef.current) == null ? void 0 : f.id;\n  }, [n.labelId, n.buttonRef.current]),\n      O = M(() => ({\n    open: n.comboboxState === 0\n  }), [n]),\n      C = {\n    \"aria-labelledby\": A,\n    role: \"listbox\",\n    \"aria-multiselectable\": n.mode === 1 ? !0 : void 0,\n    id: r,\n    ref: d\n  };\n  return X({\n    ourProps: C,\n    theirProps: b,\n    slot: O,\n    defaultTag: Ze,\n    features: ze,\n    visible: i,\n    name: \"Combobox.Options\"\n  });\n}\n\nlet oo = \"li\";\n\nfunction to(t, a) {\n  var H, p;\n  let e = Q(),\n      {\n    id: r = `headlessui-combobox-option-${e}`,\n    disabled: l = !1,\n    value: b,\n    ...n\n  } = t,\n      d = J(\"Combobox.Option\"),\n      o = Z(\"Combobox.Option\"),\n      i = d.activeOptionIndex !== null ? d.options[d.activeOptionIndex].id === r : !1,\n      A = d.isSelected(b),\n      O = S(null),\n      C = ye({\n    disabled: l,\n    value: b,\n    domRef: O,\n    textValue: (p = (H = O.current) == null ? void 0 : H.textContent) == null ? void 0 : p.toLowerCase()\n  }),\n      f = Y(a, O),\n      g = x(() => o.selectOption(r));\n  k(() => o.registerOption(r, C), [C, r]);\n  let m = S(!d.__demoMode);\n  k(() => {\n    if (!d.__demoMode) return;\n    let y = de();\n    return y.requestAnimationFrame(() => {\n      m.current = !0;\n    }), y.dispose;\n  }, []), k(() => {\n    if (d.comboboxState !== 0 || !i || !m.current || d.activationTrigger === 0) return;\n    let y = de();\n    return y.requestAnimationFrame(() => {\n      var E, B;\n      (B = (E = O.current) == null ? void 0 : E.scrollIntoView) == null || B.call(E, {\n        block: \"nearest\"\n      });\n    }), y.dispose;\n  }, [O, i, d.comboboxState, d.activationTrigger, d.activeOptionIndex]);\n\n  let c = x(y => {\n    if (l) return y.preventDefault();\n    g(), d.mode === 0 && o.closeCombobox(), Be() || requestAnimationFrame(() => {\n      var E;\n      return (E = d.inputRef.current) == null ? void 0 : E.focus();\n    });\n  }),\n      D = x(() => {\n    if (l) return o.goToOption(R.Nothing);\n    o.goToOption(R.Specific, r);\n  }),\n      _ = he(),\n      w = x(y => _.update(y)),\n      U = x(y => {\n    _.wasMoved(y) && (l || i || o.goToOption(R.Specific, r, 0));\n  }),\n      N = x(y => {\n    _.wasMoved(y) && (l || i && (d.optionsPropsRef.current.hold || o.goToOption(R.Nothing)));\n  }),\n      K = M(() => ({\n    active: i,\n    selected: A,\n    disabled: l\n  }), [i, A, l]);\n\n  return X({\n    ourProps: {\n      id: r,\n      ref: f,\n      role: \"option\",\n      tabIndex: l === !0 ? void 0 : -1,\n      \"aria-disabled\": l === !0 ? !0 : void 0,\n      \"aria-selected\": A,\n      disabled: void 0,\n      onClick: c,\n      onFocus: D,\n      onPointerEnter: w,\n      onMouseEnter: w,\n      onPointerMove: U,\n      onMouseMove: U,\n      onPointerLeave: N,\n      onMouseLeave: N\n    },\n    theirProps: n,\n    slot: K,\n    defaultTag: oo,\n    name: \"Combobox.Option\"\n  });\n}\n\nlet no = G(Je),\n    ro = G(qe),\n    ao = G(We),\n    lo = G(Ye),\n    io = G(eo),\n    uo = G(to),\n    qo = Object.assign(no, {\n  Input: ao,\n  Button: ro,\n  Label: lo,\n  Options: io,\n  Option: uo\n});\nexport { qo as Combobox };","map":{"version":3,"sources":["C:/Users/yalci/OneDrive/Desktop/movie/node_modules/@headlessui/react/dist/components/combobox/combobox.js"],"names":["ee","Fragment","xe","createContext","pe","createRef","Ce","useCallback","Oe","useContext","se","useEffect","be","useMemo","M","useReducer","ge","useRef","S","useComputed","ne","useDisposables","re","useEvent","x","useId","Q","useIsoMorphicEffect","k","useLatestValue","ye","useOutsideClick","Re","useResolveButtonType","ve","useSyncRefs","Y","useTreeWalker","Pe","calculateActiveIndex","Ae","Focus","R","disposables","de","forwardRefWithAs","G","render","X","compact","Ee","Features","fe","isDisabledReactIssue7711","Se","match","j","objectToFormEntries","Ie","sortByDomNode","Le","Hidden","Ve","De","useOpenClosed","Fe","State","oe","OpenClosedProvider","Me","Keys","I","useControllable","_e","useWatch","ce","useTrackedPointer","he","isMobile","Be","useOwnerDocument","ke","we","e","Open","Closed","Ue","Single","Multi","Ne","Pointer","Other","He","n","OpenCombobox","CloseCombobox","GoToOption","RegisterOption","UnregisterOption","RegisterLabel","ae","t","a","activeOptionIndex","options","r","slice","b","dataRef","current","domRef","l","indexOf","Ge","disabled","comboboxState","isSelected","findIndex","value","d","optionsRef","optionsPropsRef","static","o","i","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","activationTrigger","trigger","__demoMode","splice","labelId","le","displayName","Z","Error","captureStackTrace","ie","J","Xe","type","je","Je","defaultValue","onChange","form","name","by","u","T","nullable","A","multiple","O","C","f","g","m","c","D","_","hold","w","U","N","K","h","v","H","p","mode","some","labelRef","inputRef","buttonRef","length","compare","y","te","closeCombobox","E","open","activeIndex","activeOption","B","find","V","s","goToOption","Specific","W","L","$","focus","P","F","q","push","registerOption","registerLabel","openCombobox","selectActiveOption","selectOption","Te","ref","z","me","addEventListener","createElement","Provider","map","features","ue","closest","key","as","hidden","readOnly","ourProps","theirProps","slot","defaultTag","Ke","We","displayValue","scrollTop","Nothing","requestAnimationFrame","activeElement","selectionStart","selectionEnd","Math","abs","setSelectionRange","selectionDirection","nextFrame","Enter","preventDefault","stopPropagation","ArrowDown","Next","ArrowUp","Previous","Last","Home","shiftKey","First","PageUp","End","PageDown","Escape","Tab","target","join","role","onCompositionStart","onCompositionEnd","onKeyDown","onBlur","$e","qe","preventScroll","currentTarget","tabIndex","onClick","Qe","Ye","Ze","ze","RenderStrategy","Static","eo","container","enabled","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","visible","oo","to","textValue","textContent","toLowerCase","dispose","scrollIntoView","call","block","update","wasMoved","active","selected","onFocus","onPointerEnter","onMouseEnter","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","no","ro","ao","lo","io","uo","qo","Object","assign","Input","Button","Label","Options","Option","Combobox"],"mappings":"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","sourcesContent":["import ee,{Fragment as xe,createContext as pe,createRef as Ce,useCallback as Oe,useContext as se,useEffect as be,useMemo as M,useReducer as ge,useRef as S}from\"react\";import{useComputed as ne}from'../../hooks/use-computed.js';import{useDisposables as re}from'../../hooks/use-disposables.js';import{useEvent as x}from'../../hooks/use-event.js';import{useId as Q}from'../../hooks/use-id.js';import{useIsoMorphicEffect as k}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as ye}from'../../hooks/use-latest-value.js';import{useOutsideClick as Re}from'../../hooks/use-outside-click.js';import{useResolveButtonType as ve}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as Y}from'../../hooks/use-sync-refs.js';import{useTreeWalker as Pe}from'../../hooks/use-tree-walker.js';import{calculateActiveIndex as Ae,Focus as R}from'../../utils/calculate-active-index.js';import{disposables as de}from'../../utils/disposables.js';import{forwardRefWithAs as G,render as X,compact as Ee,Features as fe}from'../../utils/render.js';import{isDisabledReactIssue7711 as Se}from'../../utils/bugs.js';import{match as j}from'../../utils/match.js';import{objectToFormEntries as Ie}from'../../utils/form.js';import{sortByDomNode as Le}from'../../utils/focus-management.js';import{Hidden as Ve,Features as De}from'../../internal/hidden.js';import{useOpenClosed as Fe,State as oe,OpenClosedProvider as Me}from'../../internal/open-closed.js';import{Keys as I}from'../keyboard.js';import{useControllable as _e}from'../../hooks/use-controllable.js';import{useWatch as ce}from'../../hooks/use-watch.js';import{useTrackedPointer as he}from'../../hooks/use-tracked-pointer.js';import{isMobile as Be}from'../../utils/platform.js';import{useOwnerDocument as ke}from'../../hooks/use-owner.js';var we=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(we||{}),Ue=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(Ue||{}),Ne=(e=>(e[e.Pointer=0]=\"Pointer\",e[e.Other=1]=\"Other\",e))(Ne||{}),He=(n=>(n[n.OpenCombobox=0]=\"OpenCombobox\",n[n.CloseCombobox=1]=\"CloseCombobox\",n[n.GoToOption=2]=\"GoToOption\",n[n.RegisterOption=3]=\"RegisterOption\",n[n.UnregisterOption=4]=\"UnregisterOption\",n[n.RegisterLabel=5]=\"RegisterLabel\",n))(He||{});function ae(t,a=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Le(a(t.options.slice()),b=>b.dataRef.current.domRef.current),l=e?r.indexOf(e):null;return l===-1&&(l=null),{options:r,activeOptionIndex:l}}let Ge={[1](t){var a;return(a=t.dataRef.current)!=null&&a.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},[0](t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;let a=t.activeOptionIndex;if(t.dataRef.current){let{isSelected:r}=t.dataRef.current,l=t.options.findIndex(b=>r(b.dataRef.current.value));l!==-1&&(a=l)}return{...t,comboboxState:0,activeOptionIndex:a}},[2](t,a){var l,b,n,d;if((l=t.dataRef.current)!=null&&l.disabled||(b=t.dataRef.current)!=null&&b.optionsRef.current&&!((n=t.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&t.comboboxState===1)return t;let e=ae(t);if(e.activeOptionIndex===null){let o=e.options.findIndex(i=>!i.dataRef.current.disabled);o!==-1&&(e.activeOptionIndex=o)}let r=Ae(a,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...t,...e,activeOptionIndex:r,activationTrigger:(d=a.trigger)!=null?d:1}},[3]:(t,a)=>{var b,n;let e={id:a.id,dataRef:a.dataRef},r=ae(t,d=>[...d,e]);t.activeOptionIndex===null&&(b=t.dataRef.current)!=null&&b.isSelected(a.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(e));let l={...t,...r,activationTrigger:1};return(n=t.dataRef.current)!=null&&n.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},[4]:(t,a)=>{let e=ae(t,r=>{let l=r.findIndex(b=>b.id===a.id);return l!==-1&&r.splice(l,1),r});return{...t,...e,activationTrigger:1}},[5]:(t,a)=>({...t,labelId:a.id})},le=pe(null);le.displayName=\"ComboboxActionsContext\";function Z(t){let a=se(le);if(a===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Z),e}return a}let ie=pe(null);ie.displayName=\"ComboboxDataContext\";function J(t){let a=se(ie);if(a===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,J),e}return a}function Xe(t,a){return j(a.type,Ge,t,a)}let je=xe;function Je(t,a){let{value:e,defaultValue:r,onChange:l,form:b,name:n,by:d=(u,T)=>u===T,disabled:o=!1,__demoMode:i=!1,nullable:A=!1,multiple:O=!1,...C}=t,[f=O?[]:void 0,g]=_e(e,l,r),[m,c]=ge(Xe,{dataRef:Ce(),comboboxState:i?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),D=S(!1),_=S({static:!1,hold:!1}),w=S(null),U=S(null),N=S(null),K=S(null),h=x(typeof d==\"string\"?(u,T)=>{let v=d;return(u==null?void 0:u[v])===(T==null?void 0:T[v])}:d),H=Oe(u=>j(p.mode,{[1]:()=>f.some(T=>h(T,u)),[0]:()=>h(f,u)}),[f]),p=M(()=>({...m,optionsPropsRef:_,labelRef:w,inputRef:U,buttonRef:N,optionsRef:K,value:f,defaultValue:r,disabled:o,mode:O?1:0,get activeOptionIndex(){if(D.current&&m.activeOptionIndex===null&&m.options.length>0){let u=m.options.findIndex(T=>!T.dataRef.current.disabled);if(u!==-1)return u}return m.activeOptionIndex},compare:h,isSelected:H,nullable:A,__demoMode:i}),[f,r,o,O,A,i,m]),y=S(p.activeOptionIndex!==null?p.options[p.activeOptionIndex]:null);be(()=>{let u=p.activeOptionIndex!==null?p.options[p.activeOptionIndex]:null;y.current!==u&&(y.current=u)}),k(()=>{m.dataRef.current=p},[p]),Re([p.buttonRef,p.inputRef,p.optionsRef],()=>te.closeCombobox(),p.comboboxState===0);let E=M(()=>({open:p.comboboxState===0,disabled:o,activeIndex:p.activeOptionIndex,activeOption:p.activeOptionIndex===null?null:p.options[p.activeOptionIndex].dataRef.current.value,value:f}),[p,o,f]),B=x(u=>{let T=p.options.find(v=>v.id===u);T&&V(T.dataRef.current.value)}),s=x(()=>{if(p.activeOptionIndex!==null){let{dataRef:u,id:T}=p.options[p.activeOptionIndex];V(u.current.value),te.goToOption(R.Specific,T)}}),W=x(()=>{c({type:0}),D.current=!0}),L=x(()=>{c({type:1}),D.current=!1}),$=x((u,T,v)=>(D.current=!1,u===R.Specific?c({type:2,focus:R.Specific,id:T,trigger:v}):c({type:2,focus:u,trigger:v}))),P=x((u,T)=>(c({type:3,id:u,dataRef:T}),()=>{var v;((v=y.current)==null?void 0:v.id)===u&&(D.current=!0),c({type:4,id:u})})),F=x(u=>(c({type:5,id:u}),()=>c({type:5,id:null}))),V=x(u=>j(p.mode,{[0](){return g==null?void 0:g(u)},[1](){let T=p.value.slice(),v=T.findIndex(q=>h(q,u));return v===-1?T.push(u):T.splice(v,1),g==null?void 0:g(T)}})),te=M(()=>({onChange:V,registerOption:P,registerLabel:F,goToOption:$,closeCombobox:L,openCombobox:W,selectActiveOption:s,selectOption:B}),[]),Te=a===null?{}:{ref:a},z=S(null),me=re();return be(()=>{z.current&&r!==void 0&&me.addEventListener(z.current,\"reset\",()=>{g==null||g(r)})},[z,g]),ee.createElement(le.Provider,{value:te},ee.createElement(ie.Provider,{value:p},ee.createElement(Me,{value:j(p.comboboxState,{[0]:oe.Open,[1]:oe.Closed})},n!=null&&f!=null&&Ie({[n]:f}).map(([u,T],v)=>ee.createElement(Ve,{features:De.Hidden,ref:v===0?q=>{var ue;z.current=(ue=q==null?void 0:q.closest(\"form\"))!=null?ue:null}:void 0,...Ee({key:u,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:b,name:u,value:T})})),X({ourProps:Te,theirProps:C,slot:E,defaultTag:je,name:\"Combobox\"}))))}let Ke=\"input\";function We(t,a){var p,y,E,B;let e=Q(),{id:r=`headlessui-combobox-input-${e}`,onChange:l,displayValue:b,type:n=\"text\",...d}=t,o=J(\"Combobox.Input\"),i=Z(\"Combobox.Input\"),A=Y(o.inputRef,a),O=ke(o.inputRef),C=S(!1),f=re(),g=x(()=>{i.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),i.goToOption(R.Nothing)}),m=function(){var s;return typeof b==\"function\"&&o.value!==void 0?(s=b(o.value))!=null?s:\"\":typeof o.value==\"string\"?o.value:\"\"}();ce(([s,W],[L,$])=>{if(C.current)return;let P=o.inputRef.current;P&&(($===0&&W===1||s!==L)&&(P.value=s),requestAnimationFrame(()=>{if(C.current||!P||(O==null?void 0:O.activeElement)!==P)return;let{selectionStart:F,selectionEnd:V}=P;Math.abs((V!=null?V:0)-(F!=null?F:0))===0&&F===0&&P.setSelectionRange(P.value.length,P.value.length)}))},[m,o.comboboxState,O]),ce(([s],[W])=>{if(s===0&&W===1){if(C.current)return;let L=o.inputRef.current;if(!L)return;let $=L.value,{selectionStart:P,selectionEnd:F,selectionDirection:V}=L;L.value=\"\",L.value=$,V!==null?L.setSelectionRange(P,F,V):L.setSelectionRange(P,F)}},[o.comboboxState]);let c=S(!1),D=x(()=>{c.current=!0}),_=x(()=>{f.nextFrame(()=>{c.current=!1})}),w=x(s=>{switch(C.current=!0,s.key){case I.Enter:if(C.current=!1,o.comboboxState!==0||c.current)return;if(s.preventDefault(),s.stopPropagation(),o.activeOptionIndex===null){i.closeCombobox();return}i.selectActiveOption(),o.mode===0&&i.closeCombobox();break;case I.ArrowDown:return C.current=!1,s.preventDefault(),s.stopPropagation(),j(o.comboboxState,{[0]:()=>{i.goToOption(R.Next)},[1]:()=>{i.openCombobox()}});case I.ArrowUp:return C.current=!1,s.preventDefault(),s.stopPropagation(),j(o.comboboxState,{[0]:()=>{i.goToOption(R.Previous)},[1]:()=>{i.openCombobox(),f.nextFrame(()=>{o.value||i.goToOption(R.Last)})}});case I.Home:if(s.shiftKey)break;return C.current=!1,s.preventDefault(),s.stopPropagation(),i.goToOption(R.First);case I.PageUp:return C.current=!1,s.preventDefault(),s.stopPropagation(),i.goToOption(R.First);case I.End:if(s.shiftKey)break;return C.current=!1,s.preventDefault(),s.stopPropagation(),i.goToOption(R.Last);case I.PageDown:return C.current=!1,s.preventDefault(),s.stopPropagation(),i.goToOption(R.Last);case I.Escape:return C.current=!1,o.comboboxState!==0?void 0:(s.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&s.stopPropagation(),o.nullable&&o.mode===0&&o.value===null&&g(),i.closeCombobox());case I.Tab:if(C.current=!1,o.comboboxState!==0)return;o.mode===0&&i.selectActiveOption(),i.closeCombobox();break}}),U=x(s=>{l==null||l(s),o.nullable&&o.mode===0&&s.target.value===\"\"&&g(),i.openCombobox()}),N=x(()=>{C.current=!1}),K=ne(()=>{if(o.labelId)return[o.labelId].join(\" \")},[o.labelId]),h=M(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]),H={ref:A,id:r,role:\"combobox\",type:n,\"aria-controls\":(p=o.optionsRef.current)==null?void 0:p.id,\"aria-expanded\":o.comboboxState===0,\"aria-activedescendant\":o.activeOptionIndex===null||(y=o.options[o.activeOptionIndex])==null?void 0:y.id,\"aria-labelledby\":K,\"aria-autocomplete\":\"list\",defaultValue:(B=(E=t.defaultValue)!=null?E:o.defaultValue!==void 0?b==null?void 0:b(o.defaultValue):null)!=null?B:o.defaultValue,disabled:o.disabled,onCompositionStart:D,onCompositionEnd:_,onKeyDown:w,onChange:U,onBlur:N};return X({ourProps:H,theirProps:d,slot:h,defaultTag:Ke,name:\"Combobox.Input\"})}let $e=\"button\";function qe(t,a){var g;let e=J(\"Combobox.Button\"),r=Z(\"Combobox.Button\"),l=Y(e.buttonRef,a),b=Q(),{id:n=`headlessui-combobox-button-${b}`,...d}=t,o=re(),i=x(m=>{switch(m.key){case I.ArrowDown:return m.preventDefault(),m.stopPropagation(),e.comboboxState===1&&r.openCombobox(),o.nextFrame(()=>{var c;return(c=e.inputRef.current)==null?void 0:c.focus({preventScroll:!0})});case I.ArrowUp:return m.preventDefault(),m.stopPropagation(),e.comboboxState===1&&(r.openCombobox(),o.nextFrame(()=>{e.value||r.goToOption(R.Last)})),o.nextFrame(()=>{var c;return(c=e.inputRef.current)==null?void 0:c.focus({preventScroll:!0})});case I.Escape:return e.comboboxState!==0?void 0:(m.preventDefault(),e.optionsRef.current&&!e.optionsPropsRef.current.static&&m.stopPropagation(),r.closeCombobox(),o.nextFrame(()=>{var c;return(c=e.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}));default:return}}),A=x(m=>{if(Se(m.currentTarget))return m.preventDefault();e.comboboxState===0?r.closeCombobox():(m.preventDefault(),r.openCombobox()),o.nextFrame(()=>{var c;return(c=e.inputRef.current)==null?void 0:c.focus({preventScroll:!0})})}),O=ne(()=>{if(e.labelId)return[e.labelId,n].join(\" \")},[e.labelId,n]),C=M(()=>({open:e.comboboxState===0,disabled:e.disabled,value:e.value}),[e]),f={ref:l,id:n,type:ve(t,e.buttonRef),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":(g=e.optionsRef.current)==null?void 0:g.id,\"aria-expanded\":e.comboboxState===0,\"aria-labelledby\":O,disabled:e.disabled,onClick:A,onKeyDown:i};return X({ourProps:f,theirProps:d,slot:C,defaultTag:$e,name:\"Combobox.Button\"})}let Qe=\"label\";function Ye(t,a){let e=Q(),{id:r=`headlessui-combobox-label-${e}`,...l}=t,b=J(\"Combobox.Label\"),n=Z(\"Combobox.Label\"),d=Y(b.labelRef,a);k(()=>n.registerLabel(r),[r]);let o=x(()=>{var O;return(O=b.inputRef.current)==null?void 0:O.focus({preventScroll:!0})}),i=M(()=>({open:b.comboboxState===0,disabled:b.disabled}),[b]);return X({ourProps:{ref:d,id:r,onClick:o},theirProps:l,slot:i,defaultTag:Qe,name:\"Combobox.Label\"})}let Ze=\"ul\",ze=fe.RenderStrategy|fe.Static;function eo(t,a){let e=Q(),{id:r=`headlessui-combobox-options-${e}`,hold:l=!1,...b}=t,n=J(\"Combobox.Options\"),d=Y(n.optionsRef,a),o=Fe(),i=(()=>o!==null?(o&oe.Open)===oe.Open:n.comboboxState===0)();k(()=>{var f;n.optionsPropsRef.current.static=(f=t.static)!=null?f:!1},[n.optionsPropsRef,t.static]),k(()=>{n.optionsPropsRef.current.hold=l},[n.optionsPropsRef,l]),Pe({container:n.optionsRef.current,enabled:n.comboboxState===0,accept(f){return f.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:f.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute(\"role\",\"none\")}});let A=ne(()=>{var f,g;return(g=n.labelId)!=null?g:(f=n.buttonRef.current)==null?void 0:f.id},[n.labelId,n.buttonRef.current]),O=M(()=>({open:n.comboboxState===0}),[n]),C={\"aria-labelledby\":A,role:\"listbox\",\"aria-multiselectable\":n.mode===1?!0:void 0,id:r,ref:d};return X({ourProps:C,theirProps:b,slot:O,defaultTag:Ze,features:ze,visible:i,name:\"Combobox.Options\"})}let oo=\"li\";function to(t,a){var H,p;let e=Q(),{id:r=`headlessui-combobox-option-${e}`,disabled:l=!1,value:b,...n}=t,d=J(\"Combobox.Option\"),o=Z(\"Combobox.Option\"),i=d.activeOptionIndex!==null?d.options[d.activeOptionIndex].id===r:!1,A=d.isSelected(b),O=S(null),C=ye({disabled:l,value:b,domRef:O,textValue:(p=(H=O.current)==null?void 0:H.textContent)==null?void 0:p.toLowerCase()}),f=Y(a,O),g=x(()=>o.selectOption(r));k(()=>o.registerOption(r,C),[C,r]);let m=S(!d.__demoMode);k(()=>{if(!d.__demoMode)return;let y=de();return y.requestAnimationFrame(()=>{m.current=!0}),y.dispose},[]),k(()=>{if(d.comboboxState!==0||!i||!m.current||d.activationTrigger===0)return;let y=de();return y.requestAnimationFrame(()=>{var E,B;(B=(E=O.current)==null?void 0:E.scrollIntoView)==null||B.call(E,{block:\"nearest\"})}),y.dispose},[O,i,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let c=x(y=>{if(l)return y.preventDefault();g(),d.mode===0&&o.closeCombobox(),Be()||requestAnimationFrame(()=>{var E;return(E=d.inputRef.current)==null?void 0:E.focus()})}),D=x(()=>{if(l)return o.goToOption(R.Nothing);o.goToOption(R.Specific,r)}),_=he(),w=x(y=>_.update(y)),U=x(y=>{_.wasMoved(y)&&(l||i||o.goToOption(R.Specific,r,0))}),N=x(y=>{_.wasMoved(y)&&(l||i&&(d.optionsPropsRef.current.hold||o.goToOption(R.Nothing)))}),K=M(()=>({active:i,selected:A,disabled:l}),[i,A,l]);return X({ourProps:{id:r,ref:f,role:\"option\",tabIndex:l===!0?void 0:-1,\"aria-disabled\":l===!0?!0:void 0,\"aria-selected\":A,disabled:void 0,onClick:c,onFocus:D,onPointerEnter:w,onMouseEnter:w,onPointerMove:U,onMouseMove:U,onPointerLeave:N,onMouseLeave:N},theirProps:n,slot:K,defaultTag:oo,name:\"Combobox.Option\"})}let no=G(Je),ro=G(qe),ao=G(We),lo=G(Ye),io=G(eo),uo=G(to),qo=Object.assign(no,{Input:ao,Button:ro,Label:lo,Options:io,Option:uo});export{qo as Combobox};\n"]},"metadata":{},"sourceType":"module"}