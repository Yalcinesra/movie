{"ast":null,"code":"import G, { Fragment as N, createContext as X, createRef as H, useContext as $, useEffect as q, useMemo as x, useReducer as z, useRef as K } from \"react\";\nimport { match as j } from '../../utils/match.js';\nimport { forwardRefWithAs as h, render as D, Features as Q } from '../../utils/render.js';\nimport { disposables as _ } from '../../utils/disposables.js';\nimport { useDisposables as W } from '../../hooks/use-disposables.js';\nimport { useIsoMorphicEffect as L } from '../../hooks/use-iso-morphic-effect.js';\nimport { useSyncRefs as F } from '../../hooks/use-sync-refs.js';\nimport { useId as k } from '../../hooks/use-id.js';\nimport { Keys as c } from '../keyboard.js';\nimport { Focus as y, calculateActiveIndex as Y } from '../../utils/calculate-active-index.js';\nimport { isDisabledReactIssue7711 as Z } from '../../utils/bugs.js';\nimport { isFocusableElement as ee, FocusableMode as te, sortByDomNode as ne, Focus as V, focusFrom as re, restoreFocusIfNecessary as J } from '../../utils/focus-management.js';\nimport { useOutsideClick as oe } from '../../hooks/use-outside-click.js';\nimport { useTreeWalker as ae } from '../../hooks/use-tree-walker.js';\nimport { useOpenClosed as se, State as C, OpenClosedProvider as ie } from '../../internal/open-closed.js';\nimport { useResolveButtonType as ue } from '../../hooks/use-resolve-button-type.js';\nimport { useOwnerDocument as le } from '../../hooks/use-owner.js';\nimport { useEvent as d } from '../../hooks/use-event.js';\nimport { useTrackedPointer as pe } from '../../hooks/use-tracked-pointer.js';\nimport { useTextValue as ce } from '../../hooks/use-text-value.js';\n\nvar me = (r => (r[r.Open = 0] = \"Open\", r[r.Closed = 1] = \"Closed\", r))(me || {}),\n    de = (r => (r[r.Pointer = 0] = \"Pointer\", r[r.Other = 1] = \"Other\", r))(de || {}),\n    fe = (a => (a[a.OpenMenu = 0] = \"OpenMenu\", a[a.CloseMenu = 1] = \"CloseMenu\", a[a.GoToItem = 2] = \"GoToItem\", a[a.Search = 3] = \"Search\", a[a.ClearSearch = 4] = \"ClearSearch\", a[a.RegisterItem = 5] = \"RegisterItem\", a[a.UnregisterItem = 6] = \"UnregisterItem\", a))(fe || {});\n\nfunction w(e) {\n  let u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : r => r;\n  let r = e.activeItemIndex !== null ? e.items[e.activeItemIndex] : null,\n      i = ne(u(e.items.slice()), t => t.dataRef.current.domRef.current),\n      s = r ? i.indexOf(r) : null;\n  return s === -1 && (s = null), {\n    items: i,\n    activeItemIndex: s\n  };\n}\n\nlet Te = {\n  [1](e) {\n    return e.menuState === 1 ? e : { ...e,\n      activeItemIndex: null,\n      menuState: 1\n    };\n  },\n\n  [0](e) {\n    return e.menuState === 0 ? e : { ...e,\n      __demoMode: !1,\n      menuState: 0\n    };\n  },\n\n  [2]: (e, u) => {\n    var s;\n    let r = w(e),\n        i = Y(u, {\n      resolveItems: () => r.items,\n      resolveActiveIndex: () => r.activeItemIndex,\n      resolveId: t => t.id,\n      resolveDisabled: t => t.dataRef.current.disabled\n    });\n    return { ...e,\n      ...r,\n      searchQuery: \"\",\n      activeItemIndex: i,\n      activationTrigger: (s = u.trigger) != null ? s : 1\n    };\n  },\n  [3]: (e, u) => {\n    let i = e.searchQuery !== \"\" ? 0 : 1,\n        s = e.searchQuery + u.value.toLowerCase(),\n        o = (e.activeItemIndex !== null ? e.items.slice(e.activeItemIndex + i).concat(e.items.slice(0, e.activeItemIndex + i)) : e.items).find(l => {\n      var m;\n      return ((m = l.dataRef.current.textValue) == null ? void 0 : m.startsWith(s)) && !l.dataRef.current.disabled;\n    }),\n        a = o ? e.items.indexOf(o) : -1;\n    return a === -1 || a === e.activeItemIndex ? { ...e,\n      searchQuery: s\n    } : { ...e,\n      searchQuery: s,\n      activeItemIndex: a,\n      activationTrigger: 1\n    };\n  },\n\n  [4](e) {\n    return e.searchQuery === \"\" ? e : { ...e,\n      searchQuery: \"\",\n      searchActiveItemIndex: null\n    };\n  },\n\n  [5]: (e, u) => {\n    let r = w(e, i => [...i, {\n      id: u.id,\n      dataRef: u.dataRef\n    }]);\n    return { ...e,\n      ...r\n    };\n  },\n  [6]: (e, u) => {\n    let r = w(e, i => {\n      let s = i.findIndex(t => t.id === u.id);\n      return s !== -1 && i.splice(s, 1), i;\n    });\n    return { ...e,\n      ...r,\n      activationTrigger: 1\n    };\n  }\n},\n    U = X(null);\nU.displayName = \"MenuContext\";\n\nfunction O(e) {\n  let u = $(U);\n\n  if (u === null) {\n    let r = new Error(`<${e} /> is missing a parent <Menu /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, O), r;\n  }\n\n  return u;\n}\n\nfunction ye(e, u) {\n  return j(u.type, Te, e, u);\n}\n\nlet Ie = N;\n\nfunction Me(e, u) {\n  let {\n    __demoMode: r = !1,\n    ...i\n  } = e,\n      s = z(ye, {\n    __demoMode: r,\n    menuState: r ? 0 : 1,\n    buttonRef: H(),\n    itemsRef: H(),\n    items: [],\n    searchQuery: \"\",\n    activeItemIndex: null,\n    activationTrigger: 1\n  }),\n      [{\n    menuState: t,\n    itemsRef: o,\n    buttonRef: a\n  }, l] = s,\n      m = F(u);\n  oe([a, o], (g, R) => {\n    var p;\n    l({\n      type: 1\n    }), ee(R, te.Loose) || (g.preventDefault(), (p = a.current) == null || p.focus());\n  }, t === 0);\n  let I = d(() => {\n    l({\n      type: 1\n    });\n  }),\n      A = x(() => ({\n    open: t === 0,\n    close: I\n  }), [t, I]),\n      f = {\n    ref: m\n  };\n  return G.createElement(U.Provider, {\n    value: s\n  }, G.createElement(ie, {\n    value: j(t, {\n      [0]: C.Open,\n      [1]: C.Closed\n    })\n  }, D({\n    ourProps: f,\n    theirProps: i,\n    slot: A,\n    defaultTag: Ie,\n    name: \"Menu\"\n  })));\n}\n\nlet ge = \"button\";\n\nfunction Re(e, u) {\n  var R;\n  let r = k(),\n      {\n    id: i = `headlessui-menu-button-${r}`,\n    ...s\n  } = e,\n      [t, o] = O(\"Menu.Button\"),\n      a = F(t.buttonRef, u),\n      l = W(),\n      m = d(p => {\n    switch (p.key) {\n      case c.Space:\n      case c.Enter:\n      case c.ArrowDown:\n        p.preventDefault(), p.stopPropagation(), o({\n          type: 0\n        }), l.nextFrame(() => o({\n          type: 2,\n          focus: y.First\n        }));\n        break;\n\n      case c.ArrowUp:\n        p.preventDefault(), p.stopPropagation(), o({\n          type: 0\n        }), l.nextFrame(() => o({\n          type: 2,\n          focus: y.Last\n        }));\n        break;\n    }\n  }),\n      I = d(p => {\n    switch (p.key) {\n      case c.Space:\n        p.preventDefault();\n        break;\n    }\n  }),\n      A = d(p => {\n    if (Z(p.currentTarget)) return p.preventDefault();\n    e.disabled || (t.menuState === 0 ? (o({\n      type: 1\n    }), l.nextFrame(() => {\n      var M;\n      return (M = t.buttonRef.current) == null ? void 0 : M.focus({\n        preventScroll: !0\n      });\n    })) : (p.preventDefault(), o({\n      type: 0\n    })));\n  }),\n      f = x(() => ({\n    open: t.menuState === 0\n  }), [t]),\n      g = {\n    ref: a,\n    id: i,\n    type: ue(e, t.buttonRef),\n    \"aria-haspopup\": \"menu\",\n    \"aria-controls\": (R = t.itemsRef.current) == null ? void 0 : R.id,\n    \"aria-expanded\": t.menuState === 0,\n    onKeyDown: m,\n    onKeyUp: I,\n    onClick: A\n  };\n  return D({\n    ourProps: g,\n    theirProps: s,\n    slot: f,\n    defaultTag: ge,\n    name: \"Menu.Button\"\n  });\n}\n\nlet Ae = \"div\",\n    be = Q.RenderStrategy | Q.Static;\n\nfunction Ee(e, u) {\n  var M, b;\n\n  let r = k(),\n      {\n    id: i = `headlessui-menu-items-${r}`,\n    ...s\n  } = e,\n      [t, o] = O(\"Menu.Items\"),\n      a = F(t.itemsRef, u),\n      l = le(t.itemsRef),\n      m = W(),\n      I = se(),\n      A = (() => I !== null ? (I & C.Open) === C.Open : t.menuState === 0)();\n\n  q(() => {\n    let n = t.itemsRef.current;\n    n && t.menuState === 0 && n !== (l == null ? void 0 : l.activeElement) && n.focus({\n      preventScroll: !0\n    });\n  }, [t.menuState, t.itemsRef, l]), ae({\n    container: t.itemsRef.current,\n    enabled: t.menuState === 0,\n\n    accept(n) {\n      return n.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : n.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n\n    walk(n) {\n      n.setAttribute(\"role\", \"none\");\n    }\n\n  });\n  let f = d(n => {\n    var E, P;\n\n    switch (m.dispose(), n.key) {\n      case c.Space:\n        if (t.searchQuery !== \"\") return n.preventDefault(), n.stopPropagation(), o({\n          type: 3,\n          value: n.key\n        });\n\n      case c.Enter:\n        if (n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), t.activeItemIndex !== null) {\n          let {\n            dataRef: S\n          } = t.items[t.activeItemIndex];\n          (P = (E = S.current) == null ? void 0 : E.domRef.current) == null || P.click();\n        }\n\n        J(t.buttonRef.current);\n        break;\n\n      case c.ArrowDown:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Next\n        });\n\n      case c.ArrowUp:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Previous\n        });\n\n      case c.Home:\n      case c.PageUp:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.First\n        });\n\n      case c.End:\n      case c.PageDown:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Last\n        });\n\n      case c.Escape:\n        n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), _().nextFrame(() => {\n          var S;\n          return (S = t.buttonRef.current) == null ? void 0 : S.focus({\n            preventScroll: !0\n          });\n        });\n        break;\n\n      case c.Tab:\n        n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), _().nextFrame(() => {\n          re(t.buttonRef.current, n.shiftKey ? V.Previous : V.Next);\n        });\n        break;\n\n      default:\n        n.key.length === 1 && (o({\n          type: 3,\n          value: n.key\n        }), m.setTimeout(() => o({\n          type: 4\n        }), 350));\n        break;\n    }\n  }),\n      g = d(n => {\n    switch (n.key) {\n      case c.Space:\n        n.preventDefault();\n        break;\n    }\n  }),\n      R = x(() => ({\n    open: t.menuState === 0\n  }), [t]),\n      p = {\n    \"aria-activedescendant\": t.activeItemIndex === null || (M = t.items[t.activeItemIndex]) == null ? void 0 : M.id,\n    \"aria-labelledby\": (b = t.buttonRef.current) == null ? void 0 : b.id,\n    id: i,\n    onKeyDown: f,\n    onKeyUp: g,\n    role: \"menu\",\n    tabIndex: 0,\n    ref: a\n  };\n  return D({\n    ourProps: p,\n    theirProps: s,\n    slot: R,\n    defaultTag: Ae,\n    features: be,\n    visible: A,\n    name: \"Menu.Items\"\n  });\n}\n\nlet Se = N;\n\nfunction Pe(e, u) {\n  let r = k(),\n      {\n    id: i = `headlessui-menu-item-${r}`,\n    disabled: s = !1,\n    ...t\n  } = e,\n      [o, a] = O(\"Menu.Item\"),\n      l = o.activeItemIndex !== null ? o.items[o.activeItemIndex].id === i : !1,\n      m = K(null),\n      I = F(u, m);\n  L(() => {\n    if (o.__demoMode || o.menuState !== 0 || !l || o.activationTrigger === 0) return;\n\n    let T = _();\n\n    return T.requestAnimationFrame(() => {\n      var v, B;\n      (B = (v = m.current) == null ? void 0 : v.scrollIntoView) == null || B.call(v, {\n        block: \"nearest\"\n      });\n    }), T.dispose;\n  }, [o.__demoMode, m, l, o.menuState, o.activationTrigger, o.activeItemIndex]);\n  let A = ce(m),\n      f = K({\n    disabled: s,\n    domRef: m,\n\n    get textValue() {\n      return A();\n    }\n\n  });\n  L(() => {\n    f.current.disabled = s;\n  }, [f, s]), L(() => (a({\n    type: 5,\n    id: i,\n    dataRef: f\n  }), () => a({\n    type: 6,\n    id: i\n  })), [f, i]);\n  let g = d(() => {\n    a({\n      type: 1\n    });\n  }),\n      R = d(T => {\n    if (s) return T.preventDefault();\n    a({\n      type: 1\n    }), J(o.buttonRef.current);\n  }),\n      p = d(() => {\n    if (s) return a({\n      type: 2,\n      focus: y.Nothing\n    });\n    a({\n      type: 2,\n      focus: y.Specific,\n      id: i\n    });\n  }),\n      M = pe(),\n      b = d(T => M.update(T)),\n      n = d(T => {\n    M.wasMoved(T) && (s || l || a({\n      type: 2,\n      focus: y.Specific,\n      id: i,\n      trigger: 0\n    }));\n  }),\n      E = d(T => {\n    M.wasMoved(T) && (s || l && a({\n      type: 2,\n      focus: y.Nothing\n    }));\n  }),\n      P = x(() => ({\n    active: l,\n    disabled: s,\n    close: g\n  }), [l, s, g]);\n  return D({\n    ourProps: {\n      id: i,\n      ref: I,\n      role: \"menuitem\",\n      tabIndex: s === !0 ? void 0 : -1,\n      \"aria-disabled\": s === !0 ? !0 : void 0,\n      disabled: void 0,\n      onClick: R,\n      onFocus: p,\n      onPointerEnter: b,\n      onMouseEnter: b,\n      onPointerMove: n,\n      onMouseMove: n,\n      onPointerLeave: E,\n      onMouseLeave: E\n    },\n    theirProps: t,\n    slot: P,\n    defaultTag: Se,\n    name: \"Menu.Item\"\n  });\n}\n\nlet ve = h(Me),\n    xe = h(Re),\n    he = h(Ee),\n    De = h(Pe),\n    it = Object.assign(ve, {\n  Button: xe,\n  Items: he,\n  Item: De\n});\nexport { it as Menu };","map":{"version":3,"sources":["C:/Users/yalci/OneDrive/Desktop/movie/node_modules/@headlessui/react/dist/components/menu/menu.js"],"names":["G","Fragment","N","createContext","X","createRef","H","useContext","$","useEffect","q","useMemo","x","useReducer","z","useRef","K","match","j","forwardRefWithAs","h","render","D","Features","Q","disposables","_","useDisposables","W","useIsoMorphicEffect","L","useSyncRefs","F","useId","k","Keys","c","Focus","y","calculateActiveIndex","Y","isDisabledReactIssue7711","Z","isFocusableElement","ee","FocusableMode","te","sortByDomNode","ne","V","focusFrom","re","restoreFocusIfNecessary","J","useOutsideClick","oe","useTreeWalker","ae","useOpenClosed","se","State","C","OpenClosedProvider","ie","useResolveButtonType","ue","useOwnerDocument","le","useEvent","d","useTrackedPointer","pe","useTextValue","ce","me","r","Open","Closed","de","Pointer","Other","fe","a","OpenMenu","CloseMenu","GoToItem","Search","ClearSearch","RegisterItem","UnregisterItem","w","e","u","activeItemIndex","items","i","slice","t","dataRef","current","domRef","s","indexOf","Te","menuState","__demoMode","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","disabled","searchQuery","activationTrigger","trigger","value","toLowerCase","o","concat","find","l","m","textValue","startsWith","searchActiveItemIndex","findIndex","splice","U","displayName","O","Error","captureStackTrace","ye","type","Ie","Me","buttonRef","itemsRef","g","R","p","Loose","preventDefault","focus","I","A","open","close","f","ref","createElement","Provider","ourProps","theirProps","slot","defaultTag","name","ge","Re","key","Space","Enter","ArrowDown","stopPropagation","nextFrame","First","ArrowUp","Last","currentTarget","M","preventScroll","onKeyDown","onKeyUp","onClick","Ae","be","RenderStrategy","Static","Ee","b","n","activeElement","container","enabled","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","E","P","dispose","S","click","Next","Previous","Home","PageUp","End","PageDown","Escape","Tab","shiftKey","length","setTimeout","role","tabIndex","features","visible","Se","Pe","T","requestAnimationFrame","v","B","scrollIntoView","call","block","Nothing","Specific","update","wasMoved","active","onFocus","onPointerEnter","onMouseEnter","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","ve","xe","he","De","it","Object","assign","Button","Items","Item","Menu"],"mappings":"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","sourcesContent":["import G,{Fragment as N,createContext as X,createRef as H,useContext as $,useEffect as q,useMemo as x,useReducer as z,useRef as K}from\"react\";import{match as j}from'../../utils/match.js';import{forwardRefWithAs as h,render as D,Features as Q}from'../../utils/render.js';import{disposables as _}from'../../utils/disposables.js';import{useDisposables as W}from'../../hooks/use-disposables.js';import{useIsoMorphicEffect as L}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as F}from'../../hooks/use-sync-refs.js';import{useId as k}from'../../hooks/use-id.js';import{Keys as c}from'../keyboard.js';import{Focus as y,calculateActiveIndex as Y}from'../../utils/calculate-active-index.js';import{isDisabledReactIssue7711 as Z}from'../../utils/bugs.js';import{isFocusableElement as ee,FocusableMode as te,sortByDomNode as ne,Focus as V,focusFrom as re,restoreFocusIfNecessary as J}from'../../utils/focus-management.js';import{useOutsideClick as oe}from'../../hooks/use-outside-click.js';import{useTreeWalker as ae}from'../../hooks/use-tree-walker.js';import{useOpenClosed as se,State as C,OpenClosedProvider as ie}from'../../internal/open-closed.js';import{useResolveButtonType as ue}from'../../hooks/use-resolve-button-type.js';import{useOwnerDocument as le}from'../../hooks/use-owner.js';import{useEvent as d}from'../../hooks/use-event.js';import{useTrackedPointer as pe}from'../../hooks/use-tracked-pointer.js';import{useTextValue as ce}from'../../hooks/use-text-value.js';var me=(r=>(r[r.Open=0]=\"Open\",r[r.Closed=1]=\"Closed\",r))(me||{}),de=(r=>(r[r.Pointer=0]=\"Pointer\",r[r.Other=1]=\"Other\",r))(de||{}),fe=(a=>(a[a.OpenMenu=0]=\"OpenMenu\",a[a.CloseMenu=1]=\"CloseMenu\",a[a.GoToItem=2]=\"GoToItem\",a[a.Search=3]=\"Search\",a[a.ClearSearch=4]=\"ClearSearch\",a[a.RegisterItem=5]=\"RegisterItem\",a[a.UnregisterItem=6]=\"UnregisterItem\",a))(fe||{});function w(e,u=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,i=ne(u(e.items.slice()),t=>t.dataRef.current.domRef.current),s=r?i.indexOf(r):null;return s===-1&&(s=null),{items:i,activeItemIndex:s}}let Te={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},[2]:(e,u)=>{var s;let r=w(e),i=Y(u,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...e,...r,searchQuery:\"\",activeItemIndex:i,activationTrigger:(s=u.trigger)!=null?s:1}},[3]:(e,u)=>{let i=e.searchQuery!==\"\"?0:1,s=e.searchQuery+u.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+i).concat(e.items.slice(0,e.activeItemIndex+i)):e.items).find(l=>{var m;return((m=l.dataRef.current.textValue)==null?void 0:m.startsWith(s))&&!l.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===\"\"?e:{...e,searchQuery:\"\",searchActiveItemIndex:null}},[5]:(e,u)=>{let r=w(e,i=>[...i,{id:u.id,dataRef:u.dataRef}]);return{...e,...r}},[6]:(e,u)=>{let r=w(e,i=>{let s=i.findIndex(t=>t.id===u.id);return s!==-1&&i.splice(s,1),i});return{...e,...r,activationTrigger:1}}},U=X(null);U.displayName=\"MenuContext\";function O(e){let u=$(U);if(u===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}return u}function ye(e,u){return j(u.type,Te,e,u)}let Ie=N;function Me(e,u){let{__demoMode:r=!1,...i}=e,s=z(ye,{__demoMode:r,menuState:r?0:1,buttonRef:H(),itemsRef:H(),items:[],searchQuery:\"\",activeItemIndex:null,activationTrigger:1}),[{menuState:t,itemsRef:o,buttonRef:a},l]=s,m=F(u);oe([a,o],(g,R)=>{var p;l({type:1}),ee(R,te.Loose)||(g.preventDefault(),(p=a.current)==null||p.focus())},t===0);let I=d(()=>{l({type:1})}),A=x(()=>({open:t===0,close:I}),[t,I]),f={ref:m};return G.createElement(U.Provider,{value:s},G.createElement(ie,{value:j(t,{[0]:C.Open,[1]:C.Closed})},D({ourProps:f,theirProps:i,slot:A,defaultTag:Ie,name:\"Menu\"})))}let ge=\"button\";function Re(e,u){var R;let r=k(),{id:i=`headlessui-menu-button-${r}`,...s}=e,[t,o]=O(\"Menu.Button\"),a=F(t.buttonRef,u),l=W(),m=d(p=>{switch(p.key){case c.Space:case c.Enter:case c.ArrowDown:p.preventDefault(),p.stopPropagation(),o({type:0}),l.nextFrame(()=>o({type:2,focus:y.First}));break;case c.ArrowUp:p.preventDefault(),p.stopPropagation(),o({type:0}),l.nextFrame(()=>o({type:2,focus:y.Last}));break}}),I=d(p=>{switch(p.key){case c.Space:p.preventDefault();break}}),A=d(p=>{if(Z(p.currentTarget))return p.preventDefault();e.disabled||(t.menuState===0?(o({type:1}),l.nextFrame(()=>{var M;return(M=t.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})})):(p.preventDefault(),o({type:0})))}),f=x(()=>({open:t.menuState===0}),[t]),g={ref:a,id:i,type:ue(e,t.buttonRef),\"aria-haspopup\":\"menu\",\"aria-controls\":(R=t.itemsRef.current)==null?void 0:R.id,\"aria-expanded\":t.menuState===0,onKeyDown:m,onKeyUp:I,onClick:A};return D({ourProps:g,theirProps:s,slot:f,defaultTag:ge,name:\"Menu.Button\"})}let Ae=\"div\",be=Q.RenderStrategy|Q.Static;function Ee(e,u){var M,b;let r=k(),{id:i=`headlessui-menu-items-${r}`,...s}=e,[t,o]=O(\"Menu.Items\"),a=F(t.itemsRef,u),l=le(t.itemsRef),m=W(),I=se(),A=(()=>I!==null?(I&C.Open)===C.Open:t.menuState===0)();q(()=>{let n=t.itemsRef.current;n&&t.menuState===0&&n!==(l==null?void 0:l.activeElement)&&n.focus({preventScroll:!0})},[t.menuState,t.itemsRef,l]),ae({container:t.itemsRef.current,enabled:t.menuState===0,accept(n){return n.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:n.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute(\"role\",\"none\")}});let f=d(n=>{var E,P;switch(m.dispose(),n.key){case c.Space:if(t.searchQuery!==\"\")return n.preventDefault(),n.stopPropagation(),o({type:3,value:n.key});case c.Enter:if(n.preventDefault(),n.stopPropagation(),o({type:1}),t.activeItemIndex!==null){let{dataRef:S}=t.items[t.activeItemIndex];(P=(E=S.current)==null?void 0:E.domRef.current)==null||P.click()}J(t.buttonRef.current);break;case c.ArrowDown:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Next});case c.ArrowUp:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Previous});case c.Home:case c.PageUp:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.First});case c.End:case c.PageDown:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Last});case c.Escape:n.preventDefault(),n.stopPropagation(),o({type:1}),_().nextFrame(()=>{var S;return(S=t.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})});break;case c.Tab:n.preventDefault(),n.stopPropagation(),o({type:1}),_().nextFrame(()=>{re(t.buttonRef.current,n.shiftKey?V.Previous:V.Next)});break;default:n.key.length===1&&(o({type:3,value:n.key}),m.setTimeout(()=>o({type:4}),350));break}}),g=d(n=>{switch(n.key){case c.Space:n.preventDefault();break}}),R=x(()=>({open:t.menuState===0}),[t]),p={\"aria-activedescendant\":t.activeItemIndex===null||(M=t.items[t.activeItemIndex])==null?void 0:M.id,\"aria-labelledby\":(b=t.buttonRef.current)==null?void 0:b.id,id:i,onKeyDown:f,onKeyUp:g,role:\"menu\",tabIndex:0,ref:a};return D({ourProps:p,theirProps:s,slot:R,defaultTag:Ae,features:be,visible:A,name:\"Menu.Items\"})}let Se=N;function Pe(e,u){let r=k(),{id:i=`headlessui-menu-item-${r}`,disabled:s=!1,...t}=e,[o,a]=O(\"Menu.Item\"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===i:!1,m=K(null),I=F(u,m);L(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let T=_();return T.requestAnimationFrame(()=>{var v,B;(B=(v=m.current)==null?void 0:v.scrollIntoView)==null||B.call(v,{block:\"nearest\"})}),T.dispose},[o.__demoMode,m,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let A=ce(m),f=K({disabled:s,domRef:m,get textValue(){return A()}});L(()=>{f.current.disabled=s},[f,s]),L(()=>(a({type:5,id:i,dataRef:f}),()=>a({type:6,id:i})),[f,i]);let g=d(()=>{a({type:1})}),R=d(T=>{if(s)return T.preventDefault();a({type:1}),J(o.buttonRef.current)}),p=d(()=>{if(s)return a({type:2,focus:y.Nothing});a({type:2,focus:y.Specific,id:i})}),M=pe(),b=d(T=>M.update(T)),n=d(T=>{M.wasMoved(T)&&(s||l||a({type:2,focus:y.Specific,id:i,trigger:0}))}),E=d(T=>{M.wasMoved(T)&&(s||l&&a({type:2,focus:y.Nothing}))}),P=x(()=>({active:l,disabled:s,close:g}),[l,s,g]);return D({ourProps:{id:i,ref:I,role:\"menuitem\",tabIndex:s===!0?void 0:-1,\"aria-disabled\":s===!0?!0:void 0,disabled:void 0,onClick:R,onFocus:p,onPointerEnter:b,onMouseEnter:b,onPointerMove:n,onMouseMove:n,onPointerLeave:E,onMouseLeave:E},theirProps:t,slot:P,defaultTag:Se,name:\"Menu.Item\"})}let ve=h(Me),xe=h(Re),he=h(Ee),De=h(Pe),it=Object.assign(ve,{Button:xe,Items:he,Item:De});export{it as Menu};\n"]},"metadata":{},"sourceType":"module"}